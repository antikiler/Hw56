{% extends "base.html.twig" %}

{% block title %}Chat Page{% endblock %}

{% block stylesheets %}
    <style>
        .chat-block {
            min-height: 400px;
            max-height: 400px;
            height: 400px;
            overflow-y: auto
        }
        .block-user {
            position: relative;
        }
        .block-user .block-avatar {
            position: absolute;
            top:1px;
            display: none;
            width: 50px;
            height: 50px;

        }
        .block-user .block-avatar img{
            width: 100%;
            height: 100%;
        }
    </style>
{% endblock %}

{% block body %}

    <div class="container">
        <div class="col-md-8">
            <h1>Добро пожаловать в Simple Chat</h1>
            <select id="room" class="form-control">
                {% for room in rooms %}
                    <option value="{{ room.id }}">{{ room.name }}</option>
                {% endfor %}
            </select>
            <div class="chat-block">
                <table id="chat">
                </table>
            </div>
            <div class="col-md-11">
                <input type="text" class="form-control" id="message" />
            </div>
            <div class="col-md-1">
                <input type="button" class="btn btn-info" value="Отправить" id="snd-btn" />
            </div>
        </div>
        <div class="col-md-4">
            <h3>Список пользователей чата</h3>
            <ul class="list-group" id="users-list" style="height: 440px;overflow: auto;">
            </ul>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/chat.js') }}" ></script>
    <script>
        $(function () {
            $(document).on({
                mouseenter: function () {
                    $(this).find(".block-avatar").show();
                },
                mouseleave: function () {
                    $(this).find(".block-avatar").hide();
                }
            }, ".block-user");
        });
    </script>
{% endblock %}
